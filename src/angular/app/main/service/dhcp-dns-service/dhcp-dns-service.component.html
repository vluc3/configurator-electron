<div class="content">
  <form [formGroup]="formGroup">
    <fieldset>
      <legend>DNS</legend>
      <fieldset>
        <legend>{{ 'DOMAIN' | translate }}</legend>
        <div class="form-group mb-2 row">
          <label
            for="domainName"
            class="col-sm-2 col-form-label col-form-label-sm"
          >
            {{ 'DOMAIN_NAME' | translate }} :
          </label>
          <div class="col-sm-10">
            <input
              [ngClass]="{'is-invalid': !isValid('domainName')}"
              formControlName="domainName"
              class="form-control form-control-sm"
              id="domainName"
            >
          </div>
        </div>
      </fieldset>
      <fieldset>
        <legend>Zone</legend>
        <div class="form-group mb-2 row">
          <label
            for="exploitationZone"
            class="col-sm-2 col-form-label col-form-label-sm"
          >
            {{ 'EXPLOITATION' | translate }} :
          </label>
          <div class="col-sm-10">
            <div class="input-group input-group-sm">
              <input
                [ngClass]="{'is-invalid': !isValid('exploitationZone')}"
                formControlName="exploitationZone"
                class="form-control form-control-sm"
                id="exploitationZone"
              >
              <span class="input-group-text">.{{ formGroup.getRawValue()['domainName'] }}</span>
            </div>
          </div>
        </div>
        <div class="form-group mb-2 row">
          <label
            for="administrationZone"
            class="col-sm-2 col-form-label col-form-label-sm"
          >
            {{ 'ADMINISTRATION' | translate }} :
          </label>
          <div class="col-sm-10">
            <div class="input-group input-group-sm">
              <input
                [ngClass]="{'is-invalid': !isValid('administrationZone')}"
                formControlName="administrationZone"
                class="form-control form-control-sm"
                id="administrationZone"
              >
              <span class="input-group-text">.{{ formGroup.getRawValue()['domainName'] }}</span>
            </div>
          </div>
        </div>
        <div class="form-group mb-2 row">
          <label
            for="dmzZone"
            class="col-sm-2 col-form-label col-form-label-sm"
          >
            {{ 'DMZ' | translate }} :
          </label>
          <div class="col-sm-10">
            <div class="input-group input-group-sm">
              <input
                [ngClass]="{'is-invalid': !isValid('dmzZone')}"
                formControlName="dmzZone"
                class="form-control form-control-sm"
                id="dmzZone"
              >
              <span class="input-group-text">.{{ formGroup.getRawValue()['domainName'] }}</span>
            </div>
          </div>
        </div>
      </fieldset>
      <fieldset>
        <legend>
          <div class="d-flex">
            <span>{{ 'SERVICE.DNS_DHCP.DEFAULT_DNS_SERVER' | translate }}</span>
            <button class="btn btn-light btn-sm" (click)="add()">
              <i class="cfg-plus-square"></i>
            </button>
          </div>
        </legend>
        <div>
          <div class="form-group">
            <div
              *ngFor="let server of service.defaultDnsServers; let i = index"
              class="d-flex mb-2"
            >
              <input
                class="form-control form-control-sm"
                [formControlName]="'server-' + i"
                [ngClass]="{'is-invalid': !isValid('server-' + i)}"
                [value]="server"
              >
              <button class="btn btn-light btn-sm" (click)="remove(server)">
                <i class="cfg-minus-circle"></i>
              </button>
            </div>
          </div>
        </div>
      </fieldset>
    </fieldset>
    <fieldset>
      <legend>{{ 'DHCP' | translate }}</legend>
      <fieldset>
        <legend>{{ 'SERVICE.DNS_DHCP.ADDRESS_RANGE' | translate }}</legend>
        <div class="form-group mb-2 row">
          <label
            for="dhcpRangeBegin"
            class="col-sm-2 col-form-label col-form-label-sm"
          >
            {{ 'BEGIN' | translate }} :
          </label>
          <div class="col-sm-10">
            <input
              [ngClass]="{'is-invalid': !isValid('dhcpRangeBegin')}"
              formControlName="dhcpRangeBegin"
              class="form-control form-control-sm"
              id="dhcpRangeBegin"
            >
          </div>
        </div>
        <div class="form-group row">
          <label
            for="dhcpRangeEnd"
            class="col-sm-2 col-form-label col-form-label-sm"
          >
            {{ 'END' | translate }} :
          </label>
          <div class="col-sm-10">
            <input
              [ngClass]="{'is-invalid': !isValid('dhcpRangeEnd')}"
              formControlName="dhcpRangeEnd"
              class="form-control form-control-sm"
              id="dhcpRangeEnd"
            >
          </div>
        </div>
      </fieldset>
    </fieldset>
  </form>
</div>
